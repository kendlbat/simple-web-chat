---
import Layout from "../layouts/Layout.astro";
import { getSession } from "auth-astro/server";
import Chat from "@components/svelte/Chat.svelte";

const session = await getSession(Astro.request);
if (!session) return Astro.redirect("/login", 302);
---

<Layout title="Welcome to Astro.">
    <Chat client:load />
</Layout>
